# 邮件服务接口文档

## 发送验证码

发送邮箱验证码，支持注册、重置密码、修改邮箱和登录等场景。

### 请求信息

- 请求路径：`/email/verification-code`
- 请求方法：`POST`
- 请求体格式：`application/json`

### 请求参数

| 参数名  | 类型   | 必填 | 说明                                                                                                                | 示例                |
| ------- | ------ | ---- | ------------------------------------------------------------------------------------------------------------------- | ------------------- |
| email   | string | 是   | 邮箱地址                                                                                                            | example@example.com |
| purpose | string | 是   | 验证码用途，可选值：<br>- register: 注册<br>- reset_password: 重置密码<br>- change_email: 修改邮箱<br>- login: 登录 | "register"          |

### 响应参数

| 参数名  | 类型   | 说明                                                       |
| ------- | ------ | ---------------------------------------------------------- |
| code    | number | 状态码，200 表示成功，400 表示请求错误，500 表示服务器错误 |
| message | string | 响应消息                                                   |

### 响应示例

成功响应：

```json
{
  "code": 200,
  "message": "验证码已发送，请查收邮件"
}
```

失败响应：

```json
{
  "code": 400,
  "message": "请求过于频繁，请在30秒后重试"
}
```

## 验证验证码

验证邮箱验证码的正确性。

### 请求信息

- 请求路径：`/email/verify-code`
- 请求方法：`POST`
- 请求体格式：`application/json`

### 请求参数

| 参数名  | 类型   | 必填 | 说明                                                                                                                | 示例                |
| ------- | ------ | ---- | ------------------------------------------------------------------------------------------------------------------- | ------------------- |
| email   | string | 是   | 邮箱地址                                                                                                            | example@example.com |
| code    | string | 是   | 6 位数字验证码                                                                                                      | "123456"            |
| purpose | string | 是   | 验证码用途，可选值：<br>- register: 注册<br>- reset_password: 重置密码<br>- change_email: 修改邮箱<br>- login: 登录 | "register"          |

### 响应参数

| 参数名  | 类型    | 说明                                                       |
| ------- | ------- | ---------------------------------------------------------- |
| code    | number  | 状态码，200 表示成功，400 表示请求错误，500 表示服务器错误 |
| message | string  | 响应消息                                                   |
| valid   | boolean | 验证码是否有效                                             |

### 响应示例

成功响应：

```json
{
  "code": 200,
  "message": "验证码验证成功",
  "valid": true
}
```

失败响应：

```json
{
  "code": 400,
  "message": "验证码错误",
  "valid": false
}
```

### 注意事项

1. 验证码有效期为 5 分钟
2. 验证码验证成功后会自动失效
3. 同一邮箱在 60 秒内只能发送一次验证码
4. 验证码必须是 6 位数字
